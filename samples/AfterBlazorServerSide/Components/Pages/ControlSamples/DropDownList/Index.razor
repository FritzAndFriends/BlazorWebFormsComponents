@page "/ControlSamples/DropDownList"

<h1>DropDownList Component Samples</h1>

<h2>Basic DropDownList with Static Items</h2>
<div data-audit-control="DropDownList-1">
    <DropDownList TItem="object" StaticItems="staticItems" @bind-SelectedValue="selectedStatic" />
</div>
<p>Selected Value: <strong>@selectedStatic</strong></p>

<h2>With Pre-selected Value</h2>
<div data-audit-control="DropDownList-2">
    <DropDownList TItem="object" StaticItems="preselectedItems" SelectedValue="banana" />
</div>

<h2>Data-bound DropDownList</h2>
<div data-audit-control="DropDownList-3">
    <DropDownList TItem="DataItem"
              Items="dataBoundItems"
              DataTextField="Name"
              DataValueField="Id"
              @bind-SelectedValue="selectedDataBound" />
</div>
<p>Selected Value: <strong>@selectedDataBound</strong></p>

<h2>Disabled DropDownList</h2>
<div data-audit-control="DropDownList-4">
    <DropDownList TItem="object" StaticItems="disabledItems" Enabled="false" SelectedValue="1" />
</div>

<h2>With CSS Class</h2>
<div data-audit-control="DropDownList-5">
    <DropDownList TItem="object" StaticItems="styledItems" CssClass="form-select" />
</div>

<h2>With Inline Styles</h2>
<div data-audit-control="DropDownList-6">
    <DropDownList TItem="object"
              StaticItems="colorItems"
              BackColor="new WebColor(System.Drawing.Color.LightYellow)"
              ForeColor="new WebColor(System.Drawing.Color.Navy)"
              Width="Unit.Pixel(200)" />
</div>

<h2>With Change Event</h2>
<DropDownList TItem="object"
              StaticItems="eventItems"
              @bind-SelectedValue="eventSelection"
              OnSelectedIndexChanged="HandleSelectionChanged" />
<p>Last selection: <strong>@lastSelection</strong> at @lastChangeTime.ToString("HH:mm:ss")</p>

@code {
    private string selectedStatic = "";
    private string selectedDataBound = "";
    private string eventSelection = "";
    private string lastSelection = "None";
    private DateTime lastChangeTime = DateTime.Now;

    private ListItemCollection staticItems = new()
    {
        new ListItem("Select...", ""),
        new ListItem("Option One", "1"),
        new ListItem("Option Two", "2"),
        new ListItem("Option Three", "3")
    };

    private ListItemCollection preselectedItems = new()
    {
        new ListItem("Apple", "apple"),
        new ListItem("Banana", "banana"),
        new ListItem("Cherry", "cherry")
    };

    private ListItemCollection disabledItems = new()
    {
        new ListItem("Cannot change", "1")
    };

    private ListItemCollection styledItems = new()
    {
        new ListItem("Styled", "1")
    };

    private ListItemCollection colorItems = new()
    {
        new ListItem("Colored dropdown", "1")
    };

    private ListItemCollection eventItems = new()
    {
        new ListItem("Select one...", ""),
        new ListItem("First", "1"),
        new ListItem("Second", "2"),
        new ListItem("Third", "3")
    };

    private List<DataItem> dataBoundItems = new()
    {
        new DataItem { Id = "1", Name = "First Item" },
        new DataItem { Id = "2", Name = "Second Item" },
        new DataItem { Id = "3", Name = "Third Item" }
    };

    private void HandleSelectionChanged(ChangeEventArgs e)
    {
        lastSelection = e.Value?.ToString() ?? "None";
        lastChangeTime = DateTime.Now;
        StateHasChanged();
    }

    public class DataItem
    {
        public string Id { get; set; }
        public string Name { get; set; }
    }
}

<hr />

<p>Code:</p>
<code>
&lt;DropDownList TItem="object" StaticItems="staticItems" @@bind-SelectedValue="selectedValue" /&gt;<br />
&lt;DropDownList TItem="DataItem" Items="dataBoundItems" DataTextField="Name" DataValueField="Id" @@bind-SelectedValue="selectedDataBound" /&gt;<br />
&lt;DropDownList TItem="object" StaticItems="disabledItems" Enabled="false" SelectedValue="1" /&gt;<br />
&lt;DropDownList TItem="object" StaticItems="styledItems" CssClass="form-select" /&gt;
</code>
