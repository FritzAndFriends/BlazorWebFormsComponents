@page "/ControlSamples/GridView/Paging"
@using SharedSampleObjects.Models

<PageTitle>GridView - Paging</PageTitle>

<h2>GridView - Paging</h2>

<p>This sample demonstrates GridView with paging enabled, showing 10 items per page from a list of 50 products.</p>

<Nav />

<GridView ItemType="Product" DataSource="@Products" AllowPaging="true" PageSize="10" AutoGenerateColumns="true"
          PageIndexChanged="HandlePageChanged" />

<p>Current Page: @(CurrentPage + 1) of @TotalPages</p>

@code {
    private int CurrentPage = 0;
    private int TotalPages => (int)Math.Ceiling((double)Products.Count / 10);

    private List<Product> Products = Product.GetProducts(50);

    private void HandlePageChanged(PageChangedEventArgs e)
    {
        CurrentPage = e.NewPageIndex;
    }
}
