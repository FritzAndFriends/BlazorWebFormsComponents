@page "/ControlSamples/TreeView/SiteMapDataSource"
@using static BlazorWebFormsComponents.Enums.TreeNodeTypes

<h2>TreeView SiteMapDataSource Sample</h2>

<p>This is a treeview component bound to a SiteMap xml document</p>

<TreeView @ref="SiteTreeView" 
  DataSource="SiteMapSource"
  AutoGenerateDataBindings="False"
  runat="server">
  
  <DataBindings>
  
    <TreeNodeBinding TextField="title" NavigateUrlField="url"/>
  
  </DataBindings>
      
</TreeView>

@code {

	public TreeView SiteTreeView;

	System.Xml.XmlDocument SiteMapSource = new System.Xml.XmlDocument();

  protected override Task OnInitializedAsync() {

    Setup();

    return base.OnInitializedAsync();

  }

	void Setup()
	{

		SiteMapSource.LoadXml(@"<siteMap>  
			<siteMapNode title=""Home"" description=""Home"" url=""default.aspx"">  
				<siteMapNode title=""Products"" description=""Products"" url=""Products.aspx"">  
					<siteMapNode title=""Computers"" url=""Computers.aspx""/>  
					<siteMapNode title=""Accessories"" url=""Accessories.aspx""/>       
				</siteMapNode>  
			</siteMapNode>  
		</siteMap>");

	}

}