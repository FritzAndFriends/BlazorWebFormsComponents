The GridView component is meant to emulate the asp:GridView control in markup and is defined in the [System.Web.UI.WebControls.GridView class](https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.webcontrols.gridview?view=netframework-4.8)

## Features supported in Blazor

- Readonly grid
- Bound, Button, Hyperlink, and Template columns
- **Paging** - `AllowPaging`, `PageSize`, `PageIndex`, `PageIndexChanged` event
- **Sorting** - `AllowSorting`, `SortExpression`, `SortDirection`, `Sorting`/`Sorted` events
- **Row Editing** - `EditIndex`, `RowEditing`, `RowUpdating`, `RowDeleting`, `RowCancelingEdit` events

### Blazor Notes

- The `RowCommand.CommandSource` object will be populated with the `ButtonField` object
- **Context attribute** - When using `<TemplateField>`, add `Context="Item"` to access the current row item as `@Item` instead of Blazor's default `@context`
- **ItemType cascading** - The `ItemType` parameter is automatically cascaded from the GridView to child columns. You only need to specify it once on the GridView, and all child columns (BoundField, TemplateField, HyperLinkField, ButtonField) will automatically infer the type. For backward compatibility, you can still explicitly specify `ItemType` on individual columns if desired.
- **Paging** - When `AllowPaging="true"`, the GridView automatically paginates the data source using `Skip()`/`Take()`. A numeric pager is rendered below the grid. The `PageIndexChanged` event fires with a `PageChangedEventArgs` containing `NewPageIndex`, `OldPageIndex`, `TotalPages`, `StartRowIndex`, and `Cancel`.
- **Sorting** - When `AllowSorting="true"`, column headers become clickable. You must handle the `Sorting` event to apply the sort to your data source. The `Sorted` event fires after the sort completes. Both events use `GridViewSortEventArgs` with `SortExpression`, `SortDirection`, and `Cancel` properties.
- **Row Editing** - Set `EditIndex` to the zero-based row index to put a row in edit mode (`-1` means no row is being edited). An auto-generated command column appears when at least one editing event callback is registered.

!!! warning "Differences from Web Forms"
    - `PageIndexChanging` is not implemented; use `PageIndexChanged` with the `Cancel` property instead.
    - `PagerTemplate` is not yet supported; only the built-in numeric pager is available.
    - Sorting does not automatically re-sort the data source; you must handle the `Sorting` event and apply the sort yourself.

## Web Forms Declarative Syntax

```html
<asp:GridView
    AccessKey="string"
    AllowPaging="True|False"
    AllowSorting="True|False"
    AutoGenerateColumns="True|False"
    AutoGenerateDeleteButton="True|False"
    AutoGenerateEditButton="True|False"
    AutoGenerateSelectButton="True|False"
    BackColor="color name|#dddddd"
    BackImageUrl="uri"
    BorderColor="color name|#dddddd"
    BorderStyle="NotSet|None|Dotted|Dashed|Solid|Double|Groove|Ridge|
        Inset|Outset"
    BorderWidth="size"
    Caption="string"
    CaptionAlign="NotSet|Top|Bottom|Left|Right"
    CellPadding="integer"
    CellSpacing="integer"
    CssClass="string"
    DataKeyNames="string"
    DataMember="string"
    DataSource="string"
    DataSourceID="string"
    EditIndex="integer"
    EmptyDataText="string"
    Enabled="True|False"
    EnableSortingAndPagingCallbacks="True|False"
    EnableTheming="True|False"
    EnableViewState="True|False"
    Font-Bold="True|False"
    Font-Italic="True|False"
    Font-Names="string"
    Font-Overline="True|False"
    Font-Size="string|Smaller|Larger|XX-Small|X-Small|Small|Medium|
        Large|X-Large|XX-Large"
    Font-Strikeout="True|False"
    Font-Underline="True|False"
    ForeColor="color name|#dddddd"
    GridLines="None|Horizontal|Vertical|Both"
    Height="size"
    HorizontalAlign="NotSet|Left|Center|Right|Justify"
    ID="string"
    OnDataBinding="DataBinding event handler"
    OnDataBound="DataBound event handler"
    OnDisposed="Disposed event handler"
    OnInit="Init event handler"
    OnLoad="Load event handler"
    OnPageIndexChanged="PageIndexChanged event handler"
    OnPageIndexChanging="PageIndexChanging event handler"
    OnPreRender="PreRender event handler"
    OnRowCancelingEdit="RowCancelingEdit event handler"
    OnRowCommand="RowCommand event handler"
    OnRowCreated="RowCreated event handler"
    OnRowDataBound="RowDataBound event handler"
    OnRowDeleted="RowDeleted event handler"
    OnRowDeleting="RowDeleting event handler"
    OnRowEditing="RowEditing event handler"
    OnRowUpdated="RowUpdated event handler"
    OnRowUpdating="RowUpdating event handler"
    OnSelectedIndexChanged="SelectedIndexChanged event handler"
    OnSelectedIndexChanging="SelectedIndexChanging event handler"
    OnSorted="Sorted event handler"
    OnSorting="Sorting event handler"
    OnUnload="Unload event handler"
    PageIndex="integer"
    PagerSettings-FirstPageImageUrl="uri"
    PagerSettings-FirstPageText="string"
    PagerSettings-LastPageImageUrl="uri"
    PagerSettings-LastPageText="string"
    PagerSettings-Mode="NextPrevious|Numeric|NextPreviousFirstLast|
        NumericFirstLast"
    PagerSettings-NextPageImageUrl="uri"
    PagerSettings-NextPageText="string"
    PagerSettings-PageButtonCount="integer"
    PagerSettings-Position="Bottom|Top|TopAndBottom"
    PagerSettings-PreviousPageImageUrl="uri"
    PagerSettings-PreviousPageText="string"
    PagerSettings-Visible="True|False"
    PageSize="integer"
    RowHeaderColumn="string"
    runat="server"
    SelectedIndex="integer"
    ShowFooter="True|False"
    ShowHeader="True|False"
    SkinID="string"
    Style="string"
    TabIndex="integer"
    ToolTip="string"
    UseAccessibleHeader="True|False"
    Visible="True|False"
    Width="size"
>
        <AlternatingRowStyle />
        <Columns>
                <asp:BoundField
                    AccessibleHeaderText="string"
                    ApplyFormatInEditMode="True|False"
                    ConvertEmptyStringToNull="True|False"
                    DataField="string"
                    DataFormatString="string"
                    FooterText="string"
                    HeaderImageUrl="uri"
                    HeaderText="string"
                    HtmlEncode="True|False"
                    InsertVisible="True|False"
                    NullDisplayText="string"
                    ReadOnly="True|False"
                    ShowHeader="True|False"
                    SortExpression="string"
                    Visible="True|False"
>
                        <ControlStyle />
                        <FooterStyle />
                        <HeaderStyle />
                        <ItemStyle />
                </asp:BoundField>
                <asp:ButtonField
                    AccessibleHeaderText="string"
                    ButtonType="Button|Image|Link"
                    CausesValidation="True|False"
                    CommandName="string"
                    DataTextField="string"
                    DataTextFormatString="string"
                    FooterText="string"
                    HeaderImageUrl="uri"
                    HeaderText="string"
                    ImageUrl="uri"
                    InsertVisible="True|False"
                    ShowHeader="True|False"
                    SortExpression="string"
                    Text="string"
                    ValidationGroup="string"
                    Visible="True|False"
>
                        <ControlStyle />
                        <FooterStyle />
                        <HeaderStyle />
                        <ItemStyle />
                </asp:ButtonField>
                <asp:CheckBoxField
                    AccessibleHeaderText="string"
                    DataField="string"
                    FooterText="string"
                    HeaderImageUrl="uri"
                    HeaderText="string"
                    InsertVisible="True|False"
                    ReadOnly="True|False"
                    ShowHeader="True|False"
                    SortExpression="string"
                    Text="string"
                    Visible="True|False"
>
                        <ControlStyle />
                        <FooterStyle />
                        <HeaderStyle />
                        <ItemStyle />
                </asp:CheckBoxField>
                <asp:CommandField
                    AccessibleHeaderText="string"
                    ButtonType="Button|Image|Link"
                    CancelImageUrl="uri"
                    CancelText="string"
                    CausesValidation="True|False"
                    DeleteImageUrl="uri"
                    DeleteText="string"
                    EditImageUrl="uri"
                    EditText="string"
                    FooterText="string"
                    HeaderImageUrl="uri"
                    HeaderText="string"
                    InsertImageUrl="uri"
                    InsertText="string"
                    InsertVisible="True|False"
                    NewImageUrl="uri"
                    NewText="string"
                    SelectImageUrl="uri"
                    SelectText="string"
                    ShowCancelButton="True|False"
                    ShowDeleteButton="True|False"
                    ShowEditButton="True|False"
                    ShowHeader="True|False"
                    ShowInsertButton="True|False"
                    ShowSelectButton="True|False"
                    SortExpression="string"
                    UpdateImageUrl="uri"
                    UpdateText="string"
                    ValidationGroup="string"
                    Visible="True|False"
>
                        <ControlStyle />
                        <FooterStyle />
                        <HeaderStyle />
                        <ItemStyle />
                </asp:CommandField>
                <asp:DynamicField
                    AccessibleHeaderText="string"
                    ApplyFormatInEditMode="True|False"
                    ConvertEmptyStringToNull="True|False"
                    DataField="string"
                    DataFormatString="string"
                    FooterText="string"
                    HeaderImageUrl="uri"
                    HeaderText="string"
                    HtmlEncode="True|False"
                    InsertVisible="True|False"
                    NullDisplayText="string"
                    ShowHeader="True|False"
                    UIHint="string"
                    Visible="True|False"
>
                        <ControlStyle />
                        <FooterStyle />
                        <HeaderStyle />
                        <ItemStyle />
                </asp:DynamicField>
                <asp:HyperLinkField
                    AccessibleHeaderText="string"
                    DataNavigateUrlFields="string"
                    DataNavigateUrlFormatString="string"
                    DataTextField="string"
                    DataTextFormatString="string"
                    FooterText="string"
                    HeaderImageUrl="uri"
                    HeaderText="string"
                    InsertVisible="True|False"
                    NavigateUrl="uri"
                    ShowHeader="True|False"
                    SortExpression="string"
                    Target="string|_blank|_parent|_search|_self|_top"
                    Text="string"
                    Visible="True|False"
>
                        <ControlStyle />
                        <FooterStyle />
                        <HeaderStyle />
                        <ItemStyle />
                </asp:HyperLinkField>
                <asp:ImageField
                    AccessibleHeaderText="string"
                    AlternateText="string"
                    ConvertEmptyStringToNull="True|False"
                    DataAlternateTextField="string"
                    DataAlternateTextFormatString="string"
                    DataImageUrlField="string"
                    DataImageUrlFormatString="string"
                    FooterText="string"
                    HeaderImageUrl="uri"
                    HeaderText="string"
                    InsertVisible="True|False"
                    NullDisplayText="string"
                    NullImageUrl="uri"
                    ReadOnly="True|False"
                    ShowHeader="True|False"
                    SortExpression="string"
                    Visible="True|False"
>
                        <ControlStyle />
                        <FooterStyle />
                        <HeaderStyle />
                        <ItemStyle />
                </asp:ImageField>
                <asp:TemplateField
                    AccessibleHeaderText="string"
                    ConvertEmptyStringToNull="True|False"
                    FooterText="string"
                    HeaderImageUrl="uri"
                    HeaderText="string"
                    InsertVisible="True|False"
                    ShowHeader="True|False"
                    SortExpression="string"
                    Visible="True|False"
>
                            <ControlStyle />
                            <FooterStyle />
                            <HeaderStyle />
                            <ItemStyle />
                        <AlternatingItemTemplate>
                            <!-- child controls -->
                        </AlternatingItemTemplate>
                        <EditItemTemplate>
                            <!-- child controls -->
                        </EditItemTemplate>
                        <FooterTemplate>
                            <!-- child controls -->
                        </FooterTemplate>
                        <HeaderTemplate>
                            <!-- child controls -->
                        </HeaderTemplate>
                        <InsertItemTemplate>
                            <!-- child controls -->
                        </InsertItemTemplate>
                        <ItemTemplate>
                            <!-- child controls -->
                        </ItemTemplate>
                </asp:TemplateField>
        </Columns>
        <EditRowStyle />
        <EmptyDataRowStyle />
        <EmptyDataTemplate>
            <!-- child controls -->
        </EmptyDataTemplate>
        <FooterStyle />
        <HeaderStyle />
        <PagerSettings
            FirstPageImageUrl="uri"
            FirstPageText="string"
            LastPageImageUrl="uri"
            LastPageText="string"
            Mode="NextPrevious|Numeric|NextPreviousFirstLast|
                NumericFirstLast"
            NextPageImageUrl="uri"
            NextPageText="string"
            OnPropertyChanged="PropertyChanged event handler"
            PageButtonCount="integer"
            Position="Bottom|Top|TopAndBottom"
            PreviousPageImageUrl="uri"
            PreviousPageText="string"
            Visible="True|False"
        />
        <PagerStyle />
        <PagerTemplate>
            <!-- child controls -->
        </PagerTemplate>
        <RowStyle />
        <SelectedRowStyle />
</asp:GridView>
```

## Blazor Syntax

Currently, not every syntax element of Web Forms GridView is supported. In the meantime, the following GridView in Blazor syntax will only include the implemented ones. **Non-implemented elements will be included later**.

``` html
<GridView
    runat="server"
    AllowPaging=bool
    AllowSorting=bool
    AutoGenerateColumns=bool
    CssClass=string
    DataKeyNames=string
    DataSource=IEnumerable
    EditIndex=int
    EmptyDataText=string
    Enabled=bool
    ID=string
    Items=IEnumerable
    ItemType=Type
    OnDataBinding=EventCallBack
    OnDataBound=EventCallBack
    OnItemDataBound=EventCallBack
    OnInit=EventCallBack
    OnLoad=EventCallBack
    OnPreRender=EventCallBack
    OnUnload=EventCallBack
    OnDisposed=EventCallBack
    PageIndex=int
    PageIndexChanged=EventCallBack<PageChangedEventArgs>
    PageSize=int
    RowCancelingEdit=EventCallBack<GridViewCancelEditEventArgs>
    RowDeleting=EventCallBack<GridViewDeleteEventArgs>
    RowEditing=EventCallBack<GridViewEditEventArgs>
    RowUpdating=EventCallBack<GridViewUpdateEventArgs>
    SelectMethod=SelectHandler
    SortDirection=SortDirection
    SortExpression=string
    Sorted=EventCallBack<GridViewSortEventArgs>
    Sorting=EventCallBack<GridViewSortEventArgs>
    TabIndex=int
    Visible=bool
>
    <Columns>
        <!-- Note: ItemType is optional on columns and will be automatically 
             inferred from the parent GridView. You can still explicitly 
             specify ItemType on individual columns for clarity if desired. -->
        <BoundField
                    DataField=string
                    DataFormatString=string
                    HeaderText=string
                    ItemType=Type (optional, inferred from parent)
                    Visible=bool
        >
        </BoundField>
        <HyperLinkField
            AccessibleHeaderText="string"
            DataNavigateUrlFields="string"
            DataNavigateUrlFormatString="string"
            DataTextField="string"
            DataTextFormatString="string"
            HeaderText="string"
            ItemType=Type (optional, inferred from parent)
            NavigateUrl="uri"
            Target="string|_blank|_parent|_search|_self|_top"
            Text="string"
            Visible="True|False">
        </HyperLinkField>
        <TemplateField
                 HeaderText=string
                 ItemType=Type (optional, inferred from parent)
                 Visible=bool
        >
            <ItemTemplate Context="Item">
                <!-- Child Content -->
            <ItemTemplate>
        </TemplateField>
    </Columns>
</GridView>

```

## Examples

### Basic Paging

```razor
@* GridView with paging enabled, 5 items per page *@
<GridView DataSource="@Products"
          ItemType="Product"
          AllowPaging="true"
          PageSize="5"
          PageIndexChanged="HandlePageChanged"
          AutoGenerateColumns="true" />

<p>Page @(currentPageIndex + 1)</p>

@code {
    private List<Product> Products = new();
    private int currentPageIndex = 0;

    private void HandlePageChanged(PageChangedEventArgs e)
    {
        currentPageIndex = e.NewPageIndex;
    }
}
```

### Sorting

```razor
@* GridView with sortable columns *@
<GridView DataSource="@SortedProducts"
          ItemType="Product"
          AllowSorting="true"
          SortExpression="@sortExpression"
          SortDirection="@sortDirection"
          Sorting="HandleSorting">
    <Columns>
        <BoundField DataField="Name" HeaderText="Name" />
        <BoundField DataField="Price" HeaderText="Price" DataFormatString="{0:C}" />
    </Columns>
</GridView>

@code {
    private List<Product> Products = new();
    private string sortExpression = "";
    private SortDirection sortDirection = SortDirection.Ascending;

    private IEnumerable<Product> SortedProducts => sortExpression switch
    {
        "Name" => sortDirection == SortDirection.Ascending
            ? Products.OrderBy(p => p.Name)
            : Products.OrderByDescending(p => p.Name),
        "Price" => sortDirection == SortDirection.Ascending
            ? Products.OrderBy(p => p.Price)
            : Products.OrderByDescending(p => p.Price),
        _ => Products
    };

    private void HandleSorting(GridViewSortEventArgs e)
    {
        sortExpression = e.SortExpression;
        sortDirection = e.SortDirection;
    }
}
```

### Row Editing

```razor
@* GridView with inline edit, update, delete, and cancel *@
<GridView DataSource="@Products"
          ItemType="Product"
          EditIndex="@editIndex"
          RowEditing="HandleEdit"
          RowUpdating="HandleUpdate"
          RowDeleting="HandleDelete"
          RowCancelingEdit="HandleCancelEdit">
    <Columns>
        <BoundField DataField="Name" HeaderText="Name" />
        <BoundField DataField="Price" HeaderText="Price" DataFormatString="{0:C}" />
    </Columns>
</GridView>

@code {
    private List<Product> Products = new();
    private int editIndex = -1;

    private void HandleEdit(GridViewEditEventArgs e)
    {
        editIndex = e.NewEditIndex;
    }

    private void HandleUpdate(GridViewUpdateEventArgs e)
    {
        // Apply changes to Products[e.RowIndex]
        editIndex = -1;
    }

    private void HandleDelete(GridViewDeleteEventArgs e)
    {
        Products.RemoveAt(e.RowIndex);
        editIndex = -1;
    }

    private void HandleCancelEdit(GridViewCancelEditEventArgs e)
    {
        editIndex = -1;
    }
}
```

### Paging with Sorting

```razor
@* Combining paging and sorting *@
<GridView DataSource="@SortedProducts"
          ItemType="Product"
          AllowPaging="true"
          PageSize="10"
          PageIndexChanged="HandlePageChanged"
          AllowSorting="true"
          SortExpression="@sortExpression"
          SortDirection="@sortDirection"
          Sorting="HandleSorting">
    <Columns>
        <BoundField DataField="Name" HeaderText="Name" />
        <BoundField DataField="Price" HeaderText="Price" DataFormatString="{0:C}" />
    </Columns>
</GridView>

@code {
    private List<Product> Products = new();
    private int currentPageIndex = 0;
    private string sortExpression = "";
    private SortDirection sortDirection = SortDirection.Ascending;

    private IEnumerable<Product> SortedProducts => sortExpression switch
    {
        "Name" => sortDirection == SortDirection.Ascending
            ? Products.OrderBy(p => p.Name)
            : Products.OrderByDescending(p => p.Name),
        "Price" => sortDirection == SortDirection.Ascending
            ? Products.OrderBy(p => p.Price)
            : Products.OrderByDescending(p => p.Price),
        _ => Products
    };

    private void HandlePageChanged(PageChangedEventArgs e)
    {
        currentPageIndex = e.NewPageIndex;
    }

    private void HandleSorting(GridViewSortEventArgs e)
    {
        sortExpression = e.SortExpression;
        sortDirection = e.SortDirection;
    }
}
```
