<#@ template debug="false" hostspecific="true" language="C#" #>
<#@ output extension=".cs" #>
<#@ assembly name="System.IO"#>
<#@ assembly name="System.Linq"#>
<#@ assembly name="System.Linq.Enumerable"#>
<#@ import namespace="System.IO" #>
<#@ import namespace="System.Text" #>
<#@ import namespace="System.Linq" #>
<#@ import namespace="System.Collections.Generic" #>

namespace BlazorWebFormsComponents
{		
	public static class Constants
	{

	<#

const string FunctionPattern = "function(";

			string text;
			var fileName = @"E:\Dev\OpenSource\BlazorWebFormsComponents\src\BlazorWebFormsComponents\wwwroot\js\Basepage.js";
			var fileStream = new FileStream(fileName, FileMode.Open, FileAccess.Read);
			using (var streamReader = new StreamReader(fileStream, Encoding.UTF8))
			{
				text = streamReader.ReadToEnd();
			}

			var lines = text.Split(new[] { '\r', '\n' });

			var functionLines = lines.Where(l => l.Contains(FunctionPattern)).Select((l) => l.Substring(0, l.IndexOf(FunctionPattern)));

			// var functionLine = string.Empty;
			//foreach (var line in lines)
			//{


			//	if (line.Contains(FunctionPattern))
			//	{
			//		var end = line.IndexOf(FunctionPattern);
			//		functionLine = line.Substring(0, end);
			//	}
			//}

			foreach (var functionLine in functionLines)
			{
				var functionName = functionLine.Trim().Trim(':');
			#>
			  public static string <#= functionName #> = "bwfc.Page.<#= functionName #>";
			<#
			}
#>

	}



	
}
