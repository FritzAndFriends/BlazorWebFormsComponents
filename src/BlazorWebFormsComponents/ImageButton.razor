@inherits ButtonBaseComponent
@{
	var hasToolTip = !string.IsNullOrEmpty(ToolTip);
}

@functions {
		RenderFragment CreateImageButtonComponent() => builder =>
		{
			builder.OpenElement(0, "input");
			builder.AddMultipleAttributes(1, new Dictionary<string, object> {
				{ "type", "image" }, { "src", ImageUrl }, { "alt", AlternateText }, { "longdesc", DescriptionUrl }, { "style", Style }, { "class", CssClass }
			});
			
			if (!string.IsNullOrEmpty(ClientID))
			{
				builder.AddAttribute(2, "id", ClientID);
			}
			
			builder.AddAttribute(3, "onclick", new Action(() => Click()));

			if(!Enabled)
			{
				builder.AddAttribute(4, "disabled", "disabled");
			}

			if(!string.IsNullOrEmpty(ToolTip))
			{
				builder.AddAttribute(5, "title", ToolTip);
			}

			if(ImageAlign != Enums.ImageAlign.NotSet)
			{
				builder.AddAttribute(6, "align", ImageAlign.ToString().ToLower());
			}

			builder.CloseElement();
		};
}

@if (Visible)
{
	@CreateImageButtonComponent()
}
