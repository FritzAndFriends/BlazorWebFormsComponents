@inherits BunitContext
@using static BlazorWebFormsComponents.WebColor

@code {

	[Fact]
	public void DataList_FlowLayout_ItemStyle_AppliesBackgroundColor()
	{
		var cut = Render(
			@<DataList Items="Widget.SimpleWidgetList"
								ItemType="Widget"
								RepeatLayout="Flow"
								Context="Item">
				<HeaderTemplate>My Widget List</HeaderTemplate>
				<ItemTemplate>@Item.Name</ItemTemplate>
				<ChildContent>
					<ItemStyle BackColor="Red" />
				</ChildContent>
			</DataList>
		);

		cut.FindAll("span").Count().ShouldBe(Widget.SimpleWidgetList.Length+2);
		cut.FindAll("span").Count(c => c.HasAttribute("style")).ShouldBe(Widget.SimpleWidgetList.Length);

		cut.FindAll("span").Count(c => c.HasAttribute("style") && c.GetAttribute("style").Contains("background-color")).ShouldBe(Widget.SimpleWidgetList.Length);
	}

}
