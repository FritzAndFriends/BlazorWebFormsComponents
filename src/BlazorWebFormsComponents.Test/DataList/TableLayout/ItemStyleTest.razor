@using static BlazorWebFormsComponents.WebColor

@code {
    [Fact]
    public void DataList_TableLayout_ItemStyle_RendersCorrectly()
    {
        var cut = Render(@<DataList Items="Widget.SimpleWidgetList" ItemType="Widget" RepeatLayout="Enums.RepeatLayout.Table" Context="Item">
            <HeaderTemplate>My Widget List</HeaderTemplate>
            <ItemTemplate>@Item.Name</ItemTemplate>
            <ItemStyleContent>
                <ItemStyle BackColor="Red" />
            </ItemStyleContent>
        </DataList>);

        cut.FindAll("td").Count().ShouldBe(Widget.SimpleWidgetList.Length+1);
        cut.FindAll("td").Count(c => c.HasAttribute("style")).ShouldBe(Widget.SimpleWidgetList.Length);

        cut.FindAll("td").Count(c => c.HasAttribute("style") && c.GetAttribute("style").Contains("background-color")).ShouldBe(Widget.SimpleWidgetList.Length);
    }
}
