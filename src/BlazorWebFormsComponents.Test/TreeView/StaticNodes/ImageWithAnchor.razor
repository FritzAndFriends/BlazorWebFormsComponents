
@code {

	private string ImageToolTip = "Hugo made me sound like a hamster";
	private string ImageUrl = "something_something.jpg";

	[Fact]
	public void TreeView_TreeNode_ImageWithNavigateUrl_WrapsImageInAnchor()
	{
		// Arrange/Act
		var cut = Render(
			@<TreeView id="SampleTreeView"
								runat="server">

				<Nodes>

					<TreeNode Value="Home"
										ImageToolTip="@ImageToolTip"
										ImageUrl="@ImageUrl"
										NavigateUrl="Home.aspx"
										Text="Home"
										Target="Content"
										ToolTip="Home Tooltip"
										Expanded="true" />

				</Nodes>

			</TreeView>
		);

		// Asserts
		cut.Find("img").ShouldNotBeNull();
		var img = cut.Find("img");
		img.GetAttribute("src").ShouldBe(ImageUrl);
		img.GetAttribute("title").ShouldBe(ImageToolTip);
		img.GetAttribute("alt").ShouldBe(ImageToolTip);

		cut.FindAll("td").Count.ShouldBe(2);
		img.ParentElement.LocalName.ShouldBe("a");
	}

}
