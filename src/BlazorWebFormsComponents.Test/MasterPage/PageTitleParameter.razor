@inherits BlazorWebFormsTestContext

@code {
	[Fact]
	public void MasterPage_WithPageTitleParameter_RendersPageTitle()
	{
		// Arrange & Act
		var cut = Render(@<MasterPage PageTitle="Test Page Title">
			<ChildContent>
				<div class="content">Body content</div>
			</ChildContent>
		</MasterPage>);

		// Assert - PageTitle component should be rendered
		// The PageTitle component renders its content to the title tag via HeadOutlet
		cut.Find(".content").TextContent.ShouldBe("Body content");
	}

	[Fact]
	public void MasterPage_WithoutPageTitleParameter_StillWorks()
	{
		// Arrange & Act
		var cut = Render(@<MasterPage>
			<ChildContent>
				<div class="content">Body content only</div>
			</ChildContent>
		</MasterPage>);

		// Assert
		cut.Find(".content").TextContent.ShouldBe("Body content only");
	}

	[Fact]
	public void MasterPage_WithEmptyPageTitle_DoesNotRenderPageTitle()
	{
		// Arrange & Act
		var cut = Render(@<MasterPage PageTitle="">
			<ChildContent>
				<div class="content">Body content</div>
			</ChildContent>
		</MasterPage>);

		// Assert
		cut.Find(".content").TextContent.ShouldBe("Body content");
	}

	[Fact]
	public void MasterPage_PageTitleAndHead_BothRender()
	{
		// Arrange & Act
		var cut = Render(@<MasterPage PageTitle="My Page Title">
			<Head>
				<link href="css/site.css" rel="stylesheet" />
			</Head>
			<ChildContent>
				<div class="header">Header</div>
				<ContentPlaceHolder ID="MainContent">
					<p>Default content</p>
				</ContentPlaceHolder>
			</ChildContent>
		</MasterPage>);

		// Assert
		cut.Find(".header").TextContent.ShouldBe("Header");
		cut.Find("p").TextContent.ShouldBe("Default content");
	}

	[Fact]
	public void MasterPage_PageTitleWithSpecialCharacters_RendersCorrectly()
	{
		// Arrange & Act
		var cut = Render(@<MasterPage PageTitle="Products & Services - Companyâ„¢">
			<ChildContent>
				<div class="content">Content</div>
			</ChildContent>
		</MasterPage>);

		// Assert
		cut.Find(".content").TextContent.ShouldBe("Content");
	}
}
